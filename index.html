<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>PHP-FIG: Part of a balanced PHP diet</title>
    <meta name="author" content="Larry Garfield">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="palantirnet-theme/css/styles.css" id="theme">
    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'palantirnet-theme/css/print/pdf.css' : 'palantirnet-theme/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->

    <style type="text/css">

      .reveal img.graphic {
        width: 100%;
        border-radius: 5px;
      }

      img.screenshot {
        border-radius: 5px;
        width: 800px;
      }

      ul.inline {
        margin: 0;
        padding: 0;
        list-style-type: none;
        text-align: center;
      }

      ul.inline li {
        display: inline;
      }

      blockquote em {
        color: #9fc855;
      }

      .struck {
        text-decoration: line-through;
      }

      .vcenter {
        display: flex;
        justify-content: center;
        align-content: center;
      }

      .reveal pre + p {
        margin-top: 1em;
      }

    </style>

  </head>
  <!-- Change body class to "dark" if you prefer a dark theme, or "light" if you'd rather have a light theme-->
  <body class="light">
    <div class="reveal">
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">

        <section>
          <h1>PHP-FIG</h1>
          <h2>Part of a balanced PHP diet</h2>
          <p>
            <small>Presented by <a href="http://www.garfieldtech.com/">Larry Garfield</a> (<a href="http://twitter.com/Crell">@Crell</a>)</small>
          </p>
        </section>
        <section class="l-2up">
          <h2><a href="http://twitter.com/Crell">@Crell</a></h2>
          <div>
            <img src="assets/larry-olaf-hug.jpg" alt="Larry implements Huggable" style="width: 350px; margin: 0" />
          </div>
          <div>
            <ul style="text-wrap: none">
              <li>Senior Architect, <a href="http://www.palantir.net/">Palantir.net</a></li>
              <li style="margin-top: 1em;">Drupal 8 Web Services Lead</li>
              <li style="margin-top: 1em;">Drupal Representative, <a href="http://www.php-fig.org/">PHP-FIG</a></li>
              <li style="margin-top: 1em;"><code>implements Huggable</code></li>
            </ul>
          </div>
        </section>
        <section>
          <section data-transition="slide-in fade-out">
            <h2>What is PHP-FIG?</h2>
            <a href="https://ninjagrl.com/artwork/fig"><img src="assets/fig-ninjagrlstuff.jpg" alt="The Framework Interoperability Group" data-credit="https://ninjagrl.com/artwork/fig" /></a>
            <div>(Credit: <a href="https://twitter.com/ninjagrlstuff">@ninjagrlstuff</a>)</div>
          </section>
          <section data-background="assets/un-flag.svg" data-transition="fade-in fade-out" data-credit="'Flag of the United Nations' by Wilfried Huss / Anonymous - Flag of the United Nations from the Open Clip Art website. Modifications by Denelson83, Zscout370 and Madden. Official construction sheet here.United Nations (1962) The United Nations flag code and regulations, as amended November 11, 1952, New York OCLC: 7548838.. Licensed under Public Domain via Commons - https://commons.wikimedia.org/wiki/File:Flag_of_the_United_Nations.svg#/media/File:Flag_of_the_United_Nations.svg">
            <div class="vcenter">
              <img src="assets/php-logo.svg" alt="PHP" data-credit="https://commons.wikimedia.org/wiki/File:PHP-logo.svg" />
            </div>
          </section>
          <section data-transition="fade-in">
            <blockquote>
              We're a group of established PHP projects whose goal is to talk about commonalities between our projects and find ways we can work better together.
            </blockquote>
            <p>&mdash;PHP-FIG website</p>
          </section>
        </section>
        <section>
          <section>
            <h2>In the beginning,<br />PHP was without form and void...</h2>
          </section>
          <section>
            <h2>The PHP Standards Group</h2>
            <h3>php|tek, May 2009</h3>
          </section>
          <section>
            <q>We're going to have these namespace things,<br />let's use them the same way for a change!</q>
          </section>
          <section>
            <img src="assets/smoke-filled-room.jpg" alt="The smoke filled room where FIG was founded." data-credit="http://www.flickr.com/photos/poagao/23385812/" />
            <p class="fragment">(Smoke not guaranteed)</p>
            <aside class="notes">
              <ul>
                <li>Not smoky, was after lunch, was light outside...</li>
              </ul>
            </aside>
          </section>
          <section>
            <h2>PSR-0</h2>
            <ul>
              <li class="fragment">One autoloading standard/convention</li>
              <li class="fragment">Java-inspired</li>
              <li class="fragment">PEAR-inspired</li>
              <li class="fragment">Rudimentary, but enough</li>
            </ul>
          </section>
          <section>
            <h2>PSR-0</h2>
            <p class="fragment" style="margin-top: 1em;"><code>&lt;vendor&gt;\Package\Whatever</code></p>

            <pre class="fragment"><code class="php">new \Some\Class\Name_Here();</code></pre>
            <pre class="fragment"><code class="php">include_once $some_root . '/Some/Class/Name/Here.php';</code></pre>

            <pre class="fragment"><code class="php" data-trim>
new Guzzle\Http\Client();
// require('/some/root/path/Guzzle/Http/Client.php');
            </code></pre>
          </section>
          <section>
            <h1>Worst</h1>
            <h1 class="fragment">Launch</h1>
            <h1 class="fragment">Ever</h1>
          </section>
          <section>
            <p>Thrown off lists.php.net, moved to Google Groups</p>
            <p class="fragment">Admitted a few new projects</p>
            <p class="fragment">Slept through 2010</p>
            <p class="fragment">Debated a lot in 2011</p>
            <aside class="notes">
              <ul>
                <li>4 messages in all of 2010</li>
              </ul>
            </aside>
          </section>
          <section>
            <h2>2012</h2>
            <p class="fragment">Renamed to Framework Interoperability Group</p>
            <p class="fragment bigtext">FIG</p>
            <p class="fragment">Actually became useful!</p>
            <aside class="notes">
              <ul>
                <li>Not just frameworks</li>
                <li>PHP Interop Group = PIG</li>
              </ul>
            </aside>
          </section>
          <section>
            <p>A real process!</p>
            <p class="fragment">Only took until 2013...</p>
          </section>
        </section>
        <section>
          <section>
            <h2>So what does FIG, um, do?</h2>
          </section>
          <section>
            <h2>PSR</h2>
            <p class="bigtext">PHP Standard Recommendation</p>
            <blockquote class="fragment">Scope: Any definable standard or convention that improves collaboration and interoperability.</blockquote>
            <aside class="notes">
              <ul>
                <li>We discuss and vote on PSRs</li>
              </ul>
            </aside>
          </section>
        </section>
        <section>
          <section>
            <h2>How's it work?</h2>
          </section>
          <section>
            <div>
              <h3>Pre-Draft</h3>
              <p>Random idea</p>
            </div>
            <div class="fragment">
              <h3>Draft</h3>
              <p>PSR number assigned</p>
              <p>Iterate and collaborate</p>
            </div>
            <div class="fragment">
              <h3>Review</h3>
              <p>Release Candidate</p>
            </div>
            <div class="fragment">
              <h3>Approved!</h3>
              <p>Profit!!1!</p>
            </div>
          </section>
          <section>
            <h3>Staff</h3>
            <dl>
              <dt>Editor</dt>
              <dd>Owns the work, gatekeeper</dd>
              <dt>Sponsors (x2)</dt>
              <dd>Supporting Voting Reps</dd>
              <dt>Coordinator</dt>
              <dd>Secretary</dd>
              <dt>Contributors</dt>
              <dd>Anyone else</dd>
            </dl>
          </section>
        </section>
        <section class="l-2up">
          <h2>Current PSRs</h2>
          <div class="fragment">
            <h3>"Hard" specs</h3>
            <ul>
              <li><del>PSR-0 (Autoloading)</del></li>
              <li>PSR-3 (Logging)</li>
              <li>PSR-4 (Autoloading)</li>
              <li>PSR-7 (HTTP Messages)</li>
            </ul>
          </div>
          <div class="fragment">
            <h3>"Soft" specs</h3>
            <ul>
              <li>PSR-1 (Basic coding standards)</li>
              <li>PSR-2 (Full coding standards)</li>
            </ul>
          </div>
        </section>
        <section>
          <section>
            <h3>Autoloading</h3>
            <h3><del>PSR-0</del> PSR-4</h3>
          </section>
          <section>
            <div>
              <h3>PSR-0</h3>
              <pre><code class="php" data-trim>
new \Crell\HtmlModel\Head\Link_Element();
// Results in:
include_once $some_root . '/Crell/HtmlModel/Head/Link/Element.php';
              </code></pre>
            </div>
            <div style="margin-top: 1em;" class="fragment">
              <h3>PSR-4</h3>
              <pre><code class="php" data-trim>
new \Crell\HtmlModel\Head\Link_Element();
// Results in:
include_once $some_root . '/Head/Link_Element.php';
              </code></pre>
            </div>
            <p class="fragment">The prefix is externally configured</p>
          </section>
          <section>
            <h3>Composer</h3>
            <pre><code class="json" data-trim>
{
    "name": "crell/htmlmodel",
    "autoload": {
        "psr-4": {
            "Crell\\HtmlModel\\": "src"
        }
    }
}
            </code></pre>
            <p class="fragment">Always use PSR-4, not PSR-0.</p>
            <p class="fragment">(<a href="https://github.com/Crell/HtmlModel/">Shameless Plug for HtmlModel</a>)</p>
            <aside class="notes">
              <ul>
                <li>PSR-4 for consistent underscore handling</li>
                <li>Prefix optional</li>
              </ul>
            </aside>
          </section>
        </section>
        <section>
          <section>
            <h3>Logging</h3>
            <h3>PSR-3</h3>
          </section>
          <section>
            <h3>Logger</h3>
            <pre><code class="php" data-trim>
namespace Psr\Log;

interface LoggerInterface {
  public function log($level, $message, array $context = array());

  public function emergency($message, array $context = array());
  public function alert($message, array $context = array());
  public function critical($message, array $context = array());
  public function error($message, array $context = array());
  public function warning($message, array $context = array());
  public function notice($message, array $context = array());
  public function info($message, array $context = array());
  public function debug($message, array $context = array());
}
            </code></pre>
            <aside class="notes">
              <ul>
                <li>log() is most important, rest are convenience</li>
                <li>Target is log consumers, not implementers</li>
                <li>Code lib against PSR-3, framework can use any logger</li>
                <li>$message is string or __toString()</li>
              </ul>
            </aside>
          </section>
          <section>
            <h3>Log levels</h3>
            <pre><code class="php" data-trim>
namespace Psr\Log;

class LogLevel
{
    const EMERGENCY = 'emergency';
    const ALERT     = 'alert';
    const CRITICAL  = 'critical';
    const ERROR     = 'error';
    const WARNING   = 'warning';
    const NOTICE    = 'notice';
    const INFO      = 'info';
    const DEBUG     = 'debug';
}
            </code></pre>
            <p>Based on <a href="http://tools.ietf.org/html/rfc5424">RFC 5424</a></p>
          </section>
          <section>
            <h3>LogerAware</h3>
            <pre><code class="php" data-trim>
namespace Psr\Log;

interface LoggerAwareInterface
{
    public function setLogger(LoggerInterface $logger);
}
            </code></pre>
            <aside class="notes">
              <ul>
                <li>Mainly to support auto-wiring</li>
              </ul>
            </aside>
          </section>
          <section>
            <h3>Context?</h3>
            <p>Extra metadata, including placeholders</p>
            <pre class="fragment"><code class="php" data-trim>
$logger->notice("User {$username} failed to login. Hacker, maybe?");
            </code></pre>
            <pre style="margin-top: 1em;" class="fragment"><code class="php" data-trim>
$username = "' --; DROP TABLE users;";
            </code></pre>
            <pre style="margin-top: 1em;" class="fragment"><code class="php" data-trim>
$username = "&lt;script>alert('Got you!');&lt;/script>";
            </code></pre>
            <p style="margin-top: 1em;" class="fragment">Can't know output target in advance</p>
          </section>
          <section>
            <h3>Secure logging</h3>
            <pre><code class="php" data-trim>
$logger->notice("User {username} failed to login. Hacker, maybe?", ['username' => $username]);
            </code></pre>
            <p style="margin-top: 1em;" class="fragment">Inspired by Drupal watchdog()/t()</p>
          </section>
          <section>
            <h3>Logging exceptions</h3>
            <pre><code class="php" data-trim>
try {
  do_something_dangerous();
}
catch (\Exception $e) {
  $logger->error("Well that escalated quickly.", ['exception' => $e]);
}
            </code></pre>
          </section>
        </section>

        <div style="display:none">

          - Intro / What is FIG
          -- UN of PHP
          -- Collaboration venue
          - History (steal from Rennaissance)
          -- phpTek 2009
          -- Smoke filled room story
          -- PSR-0
          -- 2010
          -- 2013 Structure reboot
          - Process
          -- Draft, Review, numbering, etc.
          - Current specs
          -- PSR-1/2
          -- PSR-4
          -- PSR-3
          -- PSR-7
          -- PSR-6???
          -- PSR-8 :)
          - Up and coming
          -- PSR-5
          -- PSR-9/10
          -- PSR-11
          -- PSR-12
          - Getting involved
          -- Talk to your rep!
          -- Is your rep absentee? Suggest taking their place. :-)
          -- Want to be an Editor? Build a team first


        </div>

        <section id="final">
          <h2>Larry Garfield</h2>
          <p>Senior Architect, <a href="http://www.palantir.net/">Palantir.net</a></p>
          <p>Let's Make Something Good Together.</p>
          <p>Keep tabs on our work at <a href="http://twitter.com/Palantir">@Palantir</a></p>
        </section>
      </div>
      <footer class="footer">
        <a class="logo-wrapper" href="https://www.palantir.net/" title="Link to Palantir.net's website">
          <div class="logo">
            <p>Palantir.net</p>
          </div>
        </a>
      </footer>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });

    </script>

  </body>
</html>
