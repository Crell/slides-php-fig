<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>PHP-FIG: Part of a balanced PHP diet</title>
  <meta name="author" content="Larry Garfield">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="platform-reveal/platform-theme/assets/css/styles.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'platform-theme/assets/css/print/pdf.css' : 'platform-theme/assets/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>

  <script src="platform-reveal/countup.js"></script>

  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->

  <style type="text/css">

    .reveal img.graphic {
      width: 100%;
      border-radius: 5px;
    }

    img.screenshot {
      border-radius: 5px;
      width: 800px;
    }

    ul.inline {
      margin: 0;
      padding: 0;
      list-style-type: none;
      text-align: center;
    }

    ul.inline li {
      display: inline;
    }

    blockquote em {
      color: #9fc855;
    }

    .struck {
      text-decoration: line-through;
    }

    .vcenter {
      display: flex;
      justify-content: center;
      align-content: center;
    }

    .reveal pre + p, .reveal dl + p {
      margin-top: 1em;
    }
  </style>

</head>
<!-- Change body class to "dark" if you prefer a dark theme, or "light" if you'd rather have a light theme-->
<body class="light">
<div class="reveal">
  <div class="logo">
    <p>Platform.sh</p>
  </div>
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">

    <section>
      <h1>PHP-FIG</h1>
      <h2>Part of a balanced PHP diet</h2>
      <p>
        <small>Presented by <a href="http://www.garfieldtech.com/">Larry Garfield</a> (<a href="http://twitter.com/Crell">@Crell</a>)</small>
      </p>
    </section>

    <section class="l-2up">
      <h2><a href="http://twitter.com/Crell">@Crell</a></h2>
      <div>
        <img src="assets/larry-olaf-hug.jpg" alt="Larry implements Huggable" style="width: 350px; margin: 0" />
      </div>
      <div>
        <ul style="text-wrap: none">
          <li>D.R.I.E.S., <a href="http://www.platform.sh/">Platform.sh</a></li>
          <li style="margin-top: 1em;">Drupal 8 Web Services Lead</li>
          <li style="margin-top: 1em;">Drupal Representative, <a href="http://www.php-fig.org/">PHP-FIG</a></li>
          <li style="margin-top: 1em;"><code>implements Huggable</code></li>
        </ul>
      </div>
    </section>
    <section>
      <section>
        <h2>What is PHP-FIG?</h2>
        <a href="https://ninjagrl.com/artwork/fig"><img src="assets/fig-ninjagrlstuff.jpg" alt="The Framework Interoperability Group" data-credit="https://ninjagrl.com/artwork/fig" /></a>
        <div>(Credit: <a href="https://twitter.com/ninjagrlstuff">@ninjagrlstuff</a>)</div>
      </section>
      <section>
        <h2>What is PHP-FIG?</h2>
        <h2 class="fragment">An open question...</h2>
        <aside class="notes">
          <ul>
            <li>In flux as we speak...</li>
            <li>Open vote now...</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>FIG 1.0</h2>
      </section>
      <section>
        <h2>In the beginning,<br />PHP was without form and void...</h2>
      </section>
      <section>
        <h2>The PHP Standards Group</h2>
        <h3>php|tek, May 2009</h3>
      </section>
      <section>
        <q>We're going to have these namespace things,<br />let's use them the same way for a change!</q>
      </section>
      <section>
        <img src="assets/smoke-filled-room.jpg" alt="The smoke filled room where FIG was founded." data-credit="http://www.flickr.com/photos/poagao/23385812/" />
        <p class="fragment">(Smoke not guaranteed)</p>
        <aside class="notes">
          <ul>
            <li>Not smoky, was after lunch, was light outside...</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>PSR-0</h2>
        <ul>
          <li class="fragment">One autoloading standard/convention</li>
          <li class="fragment">Java-inspired</li>
          <li class="fragment">PEAR-inspired</li>
          <li class="fragment">Rudimentary, but enough</li>
        </ul>
      </section>
      <section>
        <h1>Worst</h1>
        <h1 class="fragment">Launch</h1>
        <h1 class="fragment">Ever</h1>
      </section>
      <section>
        <p>Thrown off lists.php.net, moved to Google Groups</p>
        <p class="fragment">Admitted a few new projects</p>
        <p class="fragment">Slept through 2010</p>
        <p class="fragment">Debated a lot in 2011</p>
        <aside class="notes">
          <ul>
            <li>4 messages in all of 2010</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>2012</h2>
        <p class="fragment">Renamed to Framework Interoperability Group</p>
        <p class="fragment bigtext">FIG</p>
        <p class="fragment">Actually became useful!</p>
        <aside class="notes">
          <ul>
            <li>Not just frameworks</li>
            <li>PHP Interop Group = PIG</li>
          </ul>
        </aside>
      </section>
      <section>
        <blockquote>
          We're a group of established PHP projects whose goal is to talk about commonalities between our projects and find ways we can work better together.
        </blockquote>
        <p>&mdash;PHP-FIG website</p>
      </section>
      <section>
        <h2>PSR</h2>
        <p class="bigtext">PHP Standard Recommendation</p>
        <blockquote class="fragment">Scope: Any definable standard or convention that improves collaboration and interoperability.</blockquote>
        <aside class="notes">
          <ul>
            <li>We discuss and vote on PSRs</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section data-transition="slide-in fade-out">
        <h2>FIG 2.0</h2>
      </section>
      <section data-background="assets/un-flag.svg" data-transition="fade-in fade-out" data-credit="'Flag of the United Nations' by Wilfried Huss / Anonymous - Flag of the United Nations from the Open Clip Art website. Modifications by Denelson83, Zscout370 and Madden. Official construction sheet here.United Nations (1962) The United Nations flag code and regulations, as amended November 11, 1952, New York OCLC: 7548838.. Licensed under Public Domain via Commons - https://commons.wikimedia.org/wiki/File:Flag_of_the_United_Nations.svg#/media/File:Flag_of_the_United_Nations.svg">
        <div class="vcenter">
          <img src="assets/php-logo.svg" alt="PHP" data-credit="https://commons.wikimedia.org/wiki/File:PHP-logo.svg" />
        </div>
      </section>
      <section data-transition="fade-in">
        <h3>2013</h3>
        <ul>
          <li class="fragment"><q>Projects, not people</q></li>
          <li class="fragment">Quasi-formal working groups (ish)</li>
        </ul>
      </section>
      <section>
        <h3>Projects, not people</h3>
        <p class="fragment bigtext">Voted in by current voting reps</p>
        <p class="bigtext fragment"><a href="http://www.php-fig.org/members/">38 projects</a></p>
        <aside class="notes">
          <ul>
            <li>Projects apply for membership, with voting representative</li>
            <li>Most voting reps are project leads, not all (Drupal, Joomla, Sculpin)</li>
            <li>Projects can change voting rep</li>
            <li>Project reps answerable to project, details vary</li>
          </ul>
        </aside>
      </section>
      <section>
        <h3>FIG 2.0</h3>
        <img src="assets/fig-2.0.svg" alt="FIG 2.0" data-credit="Michael Cullum" />
      </section>
      <section>
        <p class="bigtext">Voting representatives vote</p>
        <p class="bigtext fragment">Everything else is open to all</p>
      </section>
      <section>
        <h3>The Process&trade;</h3>
        <div>
          <h3>Pre-Draft</h3>
          <p>Random idea</p>
        </div>
        <div style="margin-top: 1em;" class="fragment">
          <h3>Draft</h3>
          <p>PSR number assigned</p>
          <p>Iterate and collaborate</p>
        </div>
        <div style="margin-top: 1em;" class="fragment">
          <h3>Review</h3>
          <p>Release Candidate</p>
        </div>
        <div style="margin-top: 1em;" class="fragment">
          <h3>Approved!</h3>
          <p>Profit!!1!</p>
        </div>
        <aside class="notes">
          <ul>
            <li>Yes, approval order not numeric order</li>
          </ul>
        </aside>
      </section>
      <section>
        <h3>Staff</h3>
        <dl>
          <dt>Editor</dt>
          <dd>Owns the work, gatekeeper</dd>
          <dt>Sponsors (x2)</dt>
          <dd>Supporting Voting Reps</dd>
          <dt>Coordinator</dt>
          <dd>Secretary</dd>
          <dt>Contributors</dt>
          <dd>Anyone else</dd>
        </dl>
        <p class="fragment">And 3 elected FIG Secretaries to do the paperwork</p>
      </section>
      <section>
        <h2>Problems</h2>
        <ul>
          <li class="fragment">Projects, but still people</li>
          <li class="fragment">Most voting reps absentee</li>
          <li class="fragment">Few "domain experts"</li>
          <li class="fragment">For whom?</li>
        </ul>
        <aside class="notes">
          <ul>
            <li>On paper, "just us".</li>
            <li>In practice, interop standards always wide impact</li>
            <li>Most ppl see FIG as the PHP standards body, effectively</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>FIG 3.0</h2>
        <h3 class="fragment">In voting now</h3>
        <p class="fragment">(Disclaimer: Author speaking!)</p>
      </section>
      <section>
        <img src="assets/fig-change.svg" alt="FIG 3 reorganizes roles a bit" data-credit="Michael Cullum" />
        <aside class="notes">
          <ul>
            <li>Elected Core Committee</li>
            <li>Reduced role for Project reps</li>
            <li>Larger Working Group, has own vote</li>
          </ul>
        </aside>
      </section>
      <section>
        <h3>Working Group</h3>
        <dl>
          <dt>Editor</dt>
          <dd>Gatekeeper</dd>
          <dt>Sponsor</dt>
          <dd>Guidance/Core bridge</dd>
          <dt>Other contributors (x3)</dt>
          <dd>Develops spec</dd>
        </dl>
      </section>
      <section>
        <h3>Core Committee (x12)</h3>
        <ul>
          <li class="fragment">Elected</li>
          <li class="fragment">Not project-based</li>
          <li class="fragment">Focuses on big picture</li>
        </ul>
        <aside class="notes">
          <ul>
            <li>Individuals, not projects</li>
            <li>Project reps can be just-project, less important</li>
            <li>Voted by Project reps, and involved people</li>
          </ul>
        </aside>
      </section>
      <section>
        <h3>FIG 3.0 Workflow</h3>
        <img src="assets/fig3-workflow.svg" alt="The FIG 3 workflow has more steps" data-credit="Michael Cullum and Larry Garfield" />
      </section>
      <section>
        <h3>New process</h3>
        <div style="margin-top: 1em;" class="fragment">
          <h3>Draft</h3>
          <p>PSR number assigned</p>
          <p>WG formed</p>
        </div>
        <div style="margin-top: 1em;" class="fragment">
          <h3>Review</h3>
          <p>WG votes to promote</p>
          <p>Actually implement with it</p>
        </div>
        <div style="margin-top: 1em;" class="fragment">
          <h3>Approved</h3>
          <p>Vote by Core Committee</p>
        </div>
        <aside class="notes">
          <ul>
            <li>Inspired by IETF</li>
          </ul>
        </aside>
      </section>
      <section>
        <h3>Will it pass...?</h3>
        <h3 class="fragment">Vote currently at 12:5:2</h3>
      </section>
    </section>
    <section class="l-2up">
      <h2>Current PSRs</h2>
      <div class="fragment">
        <h3>"Hard" specs</h3>
        <ul>
          <li><del>PSR-0 (Autoloading)</del></li>
          <li>PSR-3 (Logging)</li>
          <li>PSR-4 (Autoloading)</li>
          <li>PSR-6 (Caching)</li>
          <li>PSR-7 (HTTP Messages)</li>
        </ul>
      </div>
      <div class="fragment">
        <h3>"Soft" specs</h3>
        <ul>
          <li>PSR-1 (Basic coding standards)</li>
          <li>PSR-2 (Full coding standards)</li>
        </ul>
      </div>
    </section>
    <section>
      <section>
        <h2>Autoloading</h2>
        <h3><del><a href="http://www.php-fig.org/psr/psr-0/">PSR-0</a></del> <a href="http://www.php-fig.org/psr/psr-4/">PSR-4</a></h3>
      </section>
      <section>
        <div>
          <h3>PSR-0</h3>
          <pre class="font--20"><code class="php" data-trim>
new \Crell\HtmlModel\Head\Link_Element();
// Results in:
include_once $some_root . '/Crell/HtmlModel/Head/Link/Element.php';
          </code></pre>
        </div>
        <div style="margin-top: 1em;" class="fragment">
          <h3>PSR-4</h3>
          <pre class="font--20"><code class="php" data-trim>
new \Crell\HtmlModel\Head\Link_Element();
// Results in:
include_once $some_root . '/Head/Link_Element.php';
          </code></pre>
        </div>
        <p class="fragment">The prefix is externally configured</p>
      </section>
      <section>
        <h3>Composer</h3>
        <pre class="font--22"><code class="json" data-trim>
{
  "name": "crell/htmlmodel",
  "autoload": {
    "psr-4": {
      "Crell\\HtmlModel\\": "src"
    }
  }
}
        </code></pre>
        <p class="fragment">Always use PSR-4, not PSR-0</p>
        <p class="fragment">(<a href="https://github.com/Crell/HtmlModel/">Shameless Plug for HtmlModel</a>)</p>
        <aside class="notes">
          <ul>
            <li>PSR-4 for consistent underscore handling</li>
            <li>Prefix optional</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>Logging</h2>
        <h3><a href="http://www.php-fig.org/psr/psr-3/">PSR-3</a></h3>
      </section>
      <section>
        <h3>Logger</h3>
        <pre class="font--20"><code class="php" data-trim>
namespace Psr\Log;

interface LoggerInterface {
  public function log($level, $message, array $context = array());

  public function emergency($message, array $context = array());
  public function alert($message, array $context = array());
  public function critical($message, array $context = array());
  public function error($message, array $context = array());
  public function warning($message, array $context = array());
  public function notice($message, array $context = array());
  public function info($message, array $context = array());
  public function debug($message, array $context = array());
}
        </code></pre>
        <aside class="notes">
          <ul>
            <li>log() is most important, rest are convenience</li>
            <li>Target is log consumers, not implementers</li>
            <li>Code lib against PSR-3, framework can use any logger</li>
            <li>$message is string or __toString()</li>
          </ul>
        </aside>
      </section>
      <section>
        <h3>Log levels</h3>
        <pre class="font--20"><code class="php" data-trim>
namespace Psr\Log;

class LogLevel
{
    const EMERGENCY = 'emergency';
    const ALERT     = 'alert';
    const CRITICAL  = 'critical';
    const ERROR     = 'error';
    const WARNING   = 'warning';
    const NOTICE    = 'notice';
    const INFO      = 'info';
    const DEBUG     = 'debug';
}
        </code></pre>
        <p>Based on <a href="http://tools.ietf.org/html/rfc5424">RFC 5424</a></p>
      </section>
      <section>
        <h3>LogerAware</h3>
        <pre class="font--20"><code class="php" data-trim>
namespace Psr\Log;

interface LoggerAwareInterface
{
    public function setLogger(LoggerInterface $logger);
}
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Mainly to support auto-wiring</li>
          </ul>
        </aside>
      </section>
      <section>
        <h3>Context?</h3>
        <p>Extra metadata, including placeholders</p>
        <pre class="font--20 fragment"><code class="php" data-trim>
$logger->notice("User {$username} failed to login. Hacker, maybe?");
        </code></pre>
        <pre style="margin-top: 1em;" class="font--20 fragment"><code class="php" data-trim>
$username = "'; DROP TABLE students; --";
        </code></pre>
        <pre style="margin-top: 1em;" class="font--20 fragment"><code class="php" data-trim>
$username = "&lt;script>alert('Bobby Tables is so cute.');&lt;/script>";
        </code></pre>
        <p style="margin-top: 1em;" class="fragment">Can't know output target in advance</p>
      </section>
      <section>
        <h3>Secure logging</h3>
        <pre class="font--20"><code class="php" data-trim>
$logger->notice("User {username} failed to login. Hacker, maybe?", [
  'username' => $username,
]);
        </code></pre>
        <p style="margin-top: 1em;" class="fragment">Inspired by Drupal watchdog()/t()</p>
      </section>
      <section>
        <h3>Logging exceptions</h3>
        <pre class="font--20"><code class="php" data-trim>
try {
  do_something_dangerous();
}
catch (\Exception $e) {
  $logger->error("Well that escalated quickly.", ['exception' => $e]);
}
        </code></pre>
      </section>
    </section>
    <section>
      <section>
        <h2>Caching</h2>
        <h3><a href="http://www.php-fig.org/psr/psr-6/">PSR-6</a></h3>
      </section>
      <section>
        <h2>PSR-6</h2>
        <p>Similar goal as Logging</p>
        <aside class="notes">
          <ul>
            <li>Make it easy for libs to cache to unknown store</li>
            <li>Inject cache, read/write, kxthxbye</li>
            <li>Look-aside cache (other models exist)</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>\Psr\Cache</h2>
        <ul>
          <li>CacheItemInterface</li>
          <li>CacheItemPoolInterface</li>
        </ul>
        <p class="fragment">Repository model</p>
      </section>
      <section>
        <h2>Simple caching</h2>
        <pre class="font--20"><code class="php" data-trim>
class MyService {
  protected $pool;

  public function __construct(CacheItemPoolInterface $pool) {
    $this->pool = $pool;
  }

  public function getWidgetList() {
    $item = $this->pool->getItem('widget_list');

    if (!$item->isHit()) {
      $value = $this->computeExpensiveWidgetList();

      $item
        ->set($value)
        ->expiresAt(new DateTime('now +1 hour'));

      $this->pool->save($item);
    }
    return $item->get();
  }
}
        </code></pre>
      </section>
      <section>
        <h2>Bulk operations</h2>
        <pre class="font--20"><code class="php" data-trim>
class MyService {
  protected $pool;

  // ...

  public function warmCache() {
    foreach ($this->widgets as $widget) {

      $item = $this->pool->getItem('widget-' . $widget->id());

      $item->set($this->computeExpensiveValue($widget));

      $this->pool->saveDeferred($item);
    }
    $this->pool->commit();
  }

  public function getWidgetInfo(array $ids) {
    $list = array_map(function($id) {return 'widget-' . $id; }, $ids);

    return $this->pool->getMultiple($list);
  }
}
        </code></pre>
      </section>
      <section>
        <h2>Read-through caching</h2>
        <pre class="font--18"><code class="php" data-trim>
interface ImportantInterface {
  public function doExpensiveStuff($param);
}

class Important implements ImportantInterface {
  public function doExpensiveStuff($param) {
    // ...
  }
}

class CacheWrapper implements ImportantInterface {
  public function __construct(CacheItemPoolInterface $pool, ImportantInterface $wrapped) {
    $this->pool = $pool;
    $this->wrapped = $wrapped;
  }

  public function doExpensiveStuff($param) {
    $item = $this->pool->getItem(__CLASS__ . __METHOD__);

    if (!$item->isHit()) {
      $item->set($this->wrapped->doExpensiveStuff($param));
      $this->pool->save($item);
    }

    return $item->get();
  }
}
        </code></pre>
      </section>
      <section>
        <h2>Extensible</h2>
        <ul>
          <li class="fragment">Add interface to both pool and item</li>
          <li class="fragment">Tagging, namespaces, etc.</li>
        </ul>
      </section>
    </section>
    <section>
      <section>
        <h2>HTTP Messages</h2>
        <h3><a href="http://www.php-fig.org/psr/psr-7/">PSR-7</a></h3>
        <aside class="notes">
          <ul>
            <li>Most important PSR to date</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>CGI sucks</h2>
      </section>
      <section>
        <h2><a href="https://en.wikipedia.org/wiki/Common_Gateway_Interface">Common Gateway Interface</a></h2>
        <ul>
          <li class="fragment">NCSA, 1993</li>
          <li class="fragment">"specification for calling command line executables"</li>
          <li class="fragment">Pass environment variables to script</li>
          <li class="fragment"><code>$_SERVER</code></li>
        </ul>
        <aside class="notes">
          <ul>
            <li>Older than many people in this room</li>
            <li>Why is $_SERVER so weird?  CGI.</li>
          </ul>
        </aside>
      </section>
      <section>
        <h3>Super globals!</h3>
        <img src="assets/picard-riker-facepalm.jpg" alt="Picard-Riker Face Palm" />
      </section>
      <section>
        <p class="bigtext">HTTP Messages should be objects!</p>
        <p class="bigtext fragment">(Message passing, yo.)</p>
      </section>
      <section>
        <h2>\Psr\Http\Message</h2>
        <ul>
          <li><i>MessageInterface</i>
            <ul>
              <li>RequestInterface
                <ul>
                  <li>ServerRequestInterface</li>
                </ul>
              </li>
              <li>ResponseInterface</li>
            </ul>
          </li>
          <li>StreamInterface</li>
          <li>UriInterface</li>
          <li>UploadedFileInterface</li>
        </ul>
      </section>
      <section>
        <h2>Immutable objects</h2>
        <pre class="font--20"><code class="php" data-trim>
$response = new Response();

$response = $response->withStatusCode(200);
$response = $response->withHeader('Content-Type', 'application/json');

$response = $response
  ->withHeader('Cache-Control', 'public')
  ->withAddedHeader('Cache-Control', 'max-age=300');
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Immutable = predictability = fewer bugs</li>
            <li>Copy-on-write means good performance</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>Streams</h2>
        <pre class="font--20"><code class="php" data-trim>
$body = new PsrFileStream('secret_plans.odt');
$response = $response->withBody($body);
        </code></pre>
        <pre style="margin-top: 1em;" class="fragment font--20"><code class="php" data-trim>
$body = new StringStream($htmlData);
$response = $response->withBody($body);
        </code></pre>
        <pre style="margin-top: 1em;" class="fragment font--20"><code class="php" data-trim>
$callback = function() use ($data) {
  foreach ($data as $record) {
    return implode(', ', $record);
  }
};

$body = new CallbackStream($callback);
$response = $response->withBody($body);
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Abstracts all 3 types of output</li>
            <li>Not native streams, but can be backed by</li>
            <li>Streams not immutable! Can't be.</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>UriInterface</h2>
        <p class="fragment">URIs are way more complicated than you think</p>
        <p class="fragment">More portable and predictable than parse_url()</p>
      </section>
    </section>
    <section>
      <section>
        <h2>Coding standards</h2>
        <h3><a href="http://www.php-fig.org/psr/psr-1/">PSR-1</a> <a href="http://www.php-fig.org/psr/psr-2/">PSR-2</a></h3>
      </section>
      <section>
        <p class="bigtext">The most needlessly controversial specs ever</p>
      </section>
      <section>
        <h2>PSR-1</h2>
        <p>Runtime-important standards</p>
        <ul>
          <li class="fragment">No short-tags</li>
          <li class="fragment">UTF-8 files</li>
          <li class="fragment"><code>ClassName::methodName</code> and <code>ClassName::CONSTANT</code></li>
          <li class="fragment">Use an autoloader</li>
          <li class="fragment">Declare symbols or execute code, not both</li>
        </ul>
        <p class="fragment">You're probably doing this already.</p>
      </section>
      <section>
        <h2>PSR-2</h2>
        <p>Stylistic standards</p>
        <ul>
          <li class="fragment">4-space indentation</li>
          <li class="fragment">One-true-brace alignment</li>
          <li class="fragment">...</li>
        </ul>
        <p class="fragment">That there is a standard matters more than what it is</p>
        <aside class="notes">
          <ul>
            <li>Most projects now use PSR-2-ish</li>
            <li>Most IDEs/tools now have PSR-2 defaults</li>
            <li>Good or bad, get used to it.</li>
          </ul>
        </aside>
      </section>
      <section>
        <p class="bigtext">PHP 7 updates coming in <a href="https://github.com/php-fig/fig-standards/blob/master/proposed/extended-coding-style-guide.md">PSR-12</a>...</p>
      </section>
    </section>
    <section class="l-2up">
      <h2>In progress</h2>
      <ul>
        <li>PSR-9 (Security Disclosure)</li>
        <li>PSR-10 (Security Reporting)</li>
        <li>PSR-11 (Container)</li>
        <li>PSR-12 (Coding Styles, again)</li>
        <li>PSR-13 (Hypermedia Links)</li>
        <li>PSR-14 (Event Dispatcher)</li>
        <li>PSR-15 (Middlewares)</li>
        <li>PSR-16 (Simplified Caching)</li>
        <li>PSR-17 (HTTP Factories)</li>
      </ul>
    </section>
    <section>
      <section>
        <h2>Security</h2>
        <h3>
          <a href="https://github.com/php-fig/fig-standards/blob/master/proposed/security-disclosure-publication.md">PSR-9</a>
          <a href="https://github.com/php-fig/fig-standards/blob/master/proposed/security-reporting-process.md">PSR-10</a>
        </h3>
      </section>
      <section>
        <h2>Security</h2>
        <dl>
          <dt>PSR-9</dt>
          <dd>Process</dd>
          <dd>Reporting mechanisms</dd>
          <dt>PSR-10</dt>
          <dd>Security Advisory format</dd>
        </dl>
      </section>
      <section>
        <p>Open alternative to <a href="https://security.sensiolabs.org/">Sensio Labs Security Advisory Checker</a></p>
        <div style="margin-top: 1em;" class="fragment">
          <p><q>Am I vulnerable?</q></p>
          <p><span style="text-decoration: underline">Yep</span>&nbsp;&nbsp;<span style="text-decoration: underline">Nope</span></p>
        </div>
        <aside class="notes">
          <ul>
            <li>Project publishes feed of SAs</li>
            <li>Anyone can build tools to aggregate, validate, check</li>
            <li>New Editor, Michael Hess</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>Containers</h2>
        <h3><a href="https://github.com/php-fig/fig-standards/blob/master/proposed/container.md">PSR-11</a></h3>
        <aside class="notes">
          <ul>
            <li>Controversial, but passed entrance vote</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>ContainerInterface</h2>
        <pre class="font--18"><code class="php" data-trim>
namespace Psr\Container;

interface ContainerInterface
{
    public function get(string $id);

    public function has(string $id);
}
        </code></pre>
      </section>
      <section>
        <p>For factories and other edge cases</p>
        <p style="margin-top: 1em;" class="fragment">And delegation</p>
        <aside class="notes">
          <ul>
            <li>Nesting containers together</li>
            <li>One lib can ship its own container, main app can stitch them together</li>
            <li>This is the controversial part.</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>Hypermedia Links</h2>
        <h3><a href="https://github.com/php-fig/fig-standards/blob/master/proposed/links.md">PSR-13</a></h3>
      </section>
      <section>
        <h2>Hypermedia Links</h2>
        <pre class="font--18"><code class="php" data-trim>
namespace Psr\Link;

interface LinkInterface
{
    public function getHref();
    public function isTemplated();
    public function getRels();
    public function getAttributes();
}
        </code></pre>
        <pre class="font--18"><code class="php" data-trim>
namespace Psr\Link;

interface LinkCollectionInterface
{
    public function getLinks();
    public function getLinksByRel($rel);
}
        </code></pre>
        <p class="fragment bigtext">Plus evolvable extensions</p>
        <aside class="notes">
          <ul>
            <li>Value objects, a la PSR-7</li>
            <li>Eg, spawn links off Entity, put on HAL, put on Response</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <h2>Event Manager</h2>
      <h3><a href="https://github.com/php-fig/fig-standards/blob/master/proposed/event-manager.md">PSR-14</a></h3>
      <p class="fragment">Still early, over-complicated</p>
      <aside class="notes">
        <ul>
          <li>~ Symfony EventDispatcher</li>
          <li>Has been idle a while</li>
        </ul>
      </aside>
    </section>
    <section>
      <section>
        <h2>HTTP Message tooling</h2>
        <h3>
          <a href="https://github.com/php-fig/fig-standards/blob/master/proposed/http-middleware/middleware.md">PSR-15</a>
          <a href="https://github.com/php-fig/fig-standards/blob/master/proposed/http-factory/http-factory.md">PSR-17</a>
        </h3>
      </section>
      <section>
        <h3>HTTP Factories</h3>
        <ul>
          <li><code>RequestFactoryInterface</code></li>
          <li><code>ResponseFactoryInterface</code></li>
          <li><code>ServerRequestFactoryInterface</code></li>
          <li><code>StreamFactoryInterface</code></li>
          <li><code>UploadedFileFactoryInterface</code></li>
          <li><code>UriFactoryInterface</code></li>
        </ul>
      </section>
      <section>
        <h3>HTTP Middleware</h3>
        <pre class="font--18"><code class="php" data-trim>
namespace Psr\Http\Middleware;

interface ServerMiddlewareInterface extends MiddlewareInterface
{
    public function process(ServerRequestInterface $request, DelegateInterface $frame);
}

interface DelegateInterface
{
    public function next(RequestInterface $request);
}
        </code></pre>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
class Foo implements ServerMiddlewareInterface
{
    // ... Constructor here.

    public function process(ServerRequestInterface $request, DelegateInterface $delegate) {
        // Pass on the request to the next middleware.
        $response = $delegate->next($request);

        // Or create one yourself.
        return $this->responseFactory->createResponse(
            $this->streamFactory->createTempStream('Hello world'),
            200
        );
    }
}
        </code></pre>
      </section>
    </section>
    <section>
      <section>
        <h2>Simplified caching</h2>
        <h3><a href="https://github.com/php-fig/fig-standards/blob/master/proposed/simplecache.md">PSR-16</a></h3>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
namespace Psr\SimpleCache;

interface CacheInterface
{
    public function get($key);
    public function set($key, $value, $ttl = null);
    public function delete($key);
    public function clear();
    public function getMultiple($keys);
    public function setMultiple($items, $ttl = null);
    public function deleteMultiple($keys);
    public function exists($key);
}
        </code></pre>
        <p class="fragment">Easy "wrapper" for PSR-6</p>
        <aside class="notes">
          <ul>
            <li>PSR-6 bridge trait readily available.</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <p class="bigtext">The goal of FIG is to encourage collaboration</p>
        <p class="fragment bigtext">Collaboration builds interoperability</p>
        <p class="fragment bigtext">... and community</p>
      </section>
      <section>
        <h2>Success</h2>
        <table width="100%">
          <thead>
            <tr><th>Spec</th> <th>Downloads</th> <th>Dependants</th></tr>
          </thead>
          <tbody>
            <tr><th><a href="https://packagist.org/packages/psr/log">PSR-3</a></th> <td>38 million</td> <td>1943</td></tr>
            <tr><th><a href="https://packagist.org/packages/psr/cache">PSR-6</a></th> <td>829,000</td> <td>165</td></tr>
            <tr><th><a href="https://packagist.org/packages/psr/http-message">PSR-7</a></th> <td>11 million</td> <td>711</td></tr>
          </tbody>
        </table>
        <p class="fragment" style="margin-top: 4em;">(Source, Packagist.org, September 2016)</p>
      </section>
      <section>
        <p class="bigtext">Our biggest success...</p>
        <div class="fragment">
          <h2>Huggable</h2>
          <h3><a href="https://github.com/php-fig/fig-standards/blob/master/proposed/psr-8-hug/psr-8-hug.md">PSR-8</a></h3>
        </div>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
namespace Psr\Hug;

interface Huggable
{
    public function hug(Huggable $h);
}

interface GroupHuggable extends Huggable
{
  public function groupHug($huggables);
}
        </code></pre>
      </section>
      <section>
        <h2>Bulgaria PHP Draft implementation</h2>
        <img src="assets/bulgaria-php-hug.jpg" data-credit="https://twitter.com/bgphp/status/648545467295531008" />
        <aside class="notes">
          <ul>
            <li>Interoperability is about working together</li>
            <li>Make PHP a better ecosystem for everyone</li>
            <li>Projects are talking to each other more</li>
            <li>Even if not a PSR, it's a channel for collaboration</li>
          </ul>
        </aside>
      </section>
    </section>

    <section id="final">
      <h2>Larry Garfield</h2>
      <p>Director of Runtimes and Integrations <a href="http://www.platform.sh/">Platform.sh</a></p>
      <p>Continuous Deployment Cloud Hosting</p>
      <p>Stalk us at <a href="http://twitter.com/Platformsh">@PlatformSH</a></p>
    </section>

  </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

  // Full list of configuration options available at:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    transition: 'slide', // none/fade/slide/convex/concave/zoom

    // Optional reveal.js plugins
    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  });

</script>

</body>
</html>
